(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(23),s=a.n(r),i=a(7),o=a(35),l=a(67),u=a(68),d=a(3),b=a(12),j=a.n(b),h=a(20),p=a(21),O=a.n(p),m="LIST LOADING",f="LIST FAIL",x="LIST SUCCESS",g=function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,O.a.get("https://calbeach.herokuapp.com/beaches");case 4:a=e.sent,t({type:x,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:f});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},v={loading:!1,data:null,errorMSG:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,errorMSG:""});case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:[],errorMSG:"Yikes! Unable to get data"});case x:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMSG:""});default:return e}},N="BEACH FAIL",y="BEACH SUCCESS",k="BEACH LOADING",C={loading:!1,data:{},errorMSG:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,data:[],errorMSG:""});case N:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:[],errorMSG:"Yikes! Unable to get data"});case y:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMSG:""});default:return e}},w=function(e){localStorage.setItem("user",JSON.stringify(e))},E=function(){return JSON.parse(localStorage.getItem("user"))},G=function(e){var t=document.getElementById("forAlert");t.innerHTML='<p className="msgs">'.concat(e,"</p>"),setTimeout((function(){t.innerHTML=""}),2e3)},L="LOGIN LOADING",M="LOGIN FAIL",A="LOGIN SUCCESS",F="SIGNUP LOADING",T="SIGNUP FAIL",U="SIGNUP SUCCESS",D="USER_PRESENT",Y=function(e){return function(t){t({type:D,payload:e})}},_="USER_LOGEDOUT",P={loading:!1,data:{},errorMSG:"",logged:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:case A:case U:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:t.payload,errorMSG:"",logged:!0});case L:case F:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,errorMSG:"",logged:!1});case M:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:[],errorMSG:"Yikes! Unable to get data",logged:!1});case T:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:[],errorMSG:"Yikes! Something went wrong",logged:!1});case _:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:[],errorMSG:"",logged:!1});default:return e}},H=a(73),R="FAV CREATE SUCCESS",V="FAV CREATE FAIL",J="FAVS SUCCESS",z="FAVS FAIL",W="FAVS DELETE SUCCESS",q="FAVS DELETE FAIL",K="https://calbeach.herokuapp.com/favs/",Q=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get(K);case 3:n=t.sent,c=n.data.filter((function(t){return t.user_id===e})),a({type:J,payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:z});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},X={data:{},errorMSG:""},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(d.a)(Object(d.a)({},e),{},{data:[],errorMSG:"Yikes! Unable to get data"});case J:return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,errorMSG:""});case R:return Object(d.a)(Object(d.a)({},e),{},{data:[].concat(Object(H.a)(e.data),[t.payload]),errorMSG:""});case V:case q:return Object(d.a)(Object(d.a)({},e),{},{errorMSG:"Yikes! Something went wrong"});case W:return Object(d.a)(Object(d.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id})),errorMSG:""});default:return e}},$=Object(o.combineReducers)({list:S,beach:I,user:B,favs:Z}),ee=Object(o.createStore)($,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),te=(a(103),a(22)),ae=a(10),ne=a(25),ce=a(15),re=a(43),se=(a(104),a(42)),ie=a(2),oe=function(e){var t=e.beachid,a=E().id,n=Object(i.b)();return Object(ie.jsxs)("button",{type:"button",className:"fav-btn bg-transparent",onClick:function(){n(function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var c,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c={user_id:e,beach_id:t},a.next=4,O.a.post(K,c);case 4:r=a.sent,n({type:R,payload:r.data.fav}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:V});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,t))},children:[Object(ie.jsx)(se.b,{}),Object(ie.jsx)("span",{className:"text-light",children:"a"})]})},le=function(e){var t=e.id,a=e.userid,n=e.beachid,c=Object(i.b)();return Object(ie.jsxs)("button",{type:"button",className:"fav-btn bg-transparent",onClick:function(){c(function(e,t,a){return function(){var n=Object(h.a)(j.a.mark((function n(c){var r,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={id:e,user_id:t,beach_id:a},s="https://calbeach.herokuapp.com/favs/".concat(e),n.next=5,O.a.delete(s);case 5:n.sent,c({type:W,payload:r}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),c({type:q});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n)),Q()},children:[Object(ie.jsx)(se.a,{}),Object(ie.jsx)("span",{className:"text-light",children:"a"})]})},ue=function(e){var t=e.beachid,a=Object(i.b)(),c=E().id;Object(n.useEffect)((function(){a(Q(c))}),[]);var r=Object(i.c)((function(e){return e.favs})).data,s=function(e,t,a){return!!e.filter((function(e){return e.user_id===t&&e.beach_id===a})).length}(r,c,t),o=(r.filter((function(e){return e.user_id===c&&e.beach_id===t}))[0]||0).id;return Object(ie.jsxs)("div",{children:[!s&&Object(ie.jsx)(oe,{beachid:t}),s&&Object(ie.jsx)(le,{id:o,userid:c,beachid:t})]})},de=function(){var e=Object(ae.f)(),t=Object(i.b)(),a=e.state.beachid,c=parseInt(a),r=Object(i.c)((function(e){return e.user.logged})),s=function(){t(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:k}),n="https://calbeach.herokuapp.com/beaches/"+e,t.next=5,O.a.get(n);case 5:c=t.sent,a({type:y,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(c))};Object(n.useEffect)((function(){s()}),[]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"star-div text-center my-2",children:[r&&Object(ie.jsx)(ue,{beachid:c}),!r&&Object(ie.jsx)("p",{className:"bg-secondary mx-5",children:"Log in to add to favourites"})]}),function(){var e=Object(i.c)((function(e){return e.beach}));if(e.loading)return Object(ie.jsx)("h1",{className:"nav-link bg-light text-center text-dark mt-5",children:"Loading"});if(e.data.beach){var t=e.data.beach;return Object(ie.jsxs)(re.a,{children:[Object(ie.jsx)("h1",{className:"text-center mx-3",children:t.name}),Object(ie.jsx)("h4",{className:"text-center m-3",children:t.county}),Object(ie.jsx)("h5",{className:"text-center mx-3",children:t.description}),Object(ie.jsxs)(ce.a,{variant:"dark",className:"my-4",children:[Object(ie.jsx)(ce.a.Item,{children:Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:t.photo1,alt:"First slide"})}),Object(ie.jsx)(ce.a.Item,{children:Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:t.photo2,alt:"Second slide"})}),Object(ie.jsx)(ce.a.Item,{children:Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:t.photo3,alt:"Third slide"})}),Object(ie.jsx)(ce.a.Item,{children:Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:t.photo4,alt:"Fourth slide"})})]}),Object(ie.jsx)("div",{className:"d-flex justify-content-around m-3",children:Object(ie.jsxs)(ne.a,{as:"ul",className:"list1",children:[Object(ie.jsx)(ne.a.Item,{as:"li",className:"bg-secondary first-line text-center fs-6 pt-1",active:!0,children:"DIRECTIONS"}),Object(ie.jsx)(ne.a.Item,{as:"li",className:"p-3 text-center",children:t.location}),Object(ie.jsx)(ne.a.Item,{as:"li",className:"bg-secondary first-line text-center fs-6 pt-1",active:!0,children:"FACILITIES"})]})}),Object(ie.jsx)("div",{className:"d-flex justify-content-around ms-1",children:Object(ie.jsxs)(ne.a,{as:"ul",horizontal:!0,className:"pb-5",children:["Yes"===t.campground&&Object(ie.jsx)(ne.a.Item,{as:"li",className:"p-0 me-2",children:"Campground"}),"Yes"===t.parking&&Object(ie.jsx)(ne.a.Item,{as:"li",className:"p-0 me-2",children:"Parking"}),"Yes"===t.restrooms&&Object(ie.jsx)(ne.a.Item,{as:"li",className:"p-0",children:"Restrooms"})]})})]})}return""!==e.errorMSG?Object(ie.jsx)("h1",{className:"nav-link bg-light text-center text-dark mt-5",children:e.errorMSG}):Object(ie.jsx)("p",{})}()]})},be=a(47),je=a(9),he=(a(110),["All","Humboldt","Mendocino","Sonoma","Marin","San Francisco","San Mateo","Santa Cruz","Monterey","San Luis Obispo","Santa Barbara","Ventura","Los Angeles","Orange","San Diego"]),pe=function(e){var t=e.setFilter;return Object(ie.jsx)("div",{className:"filter-div mb-2",children:Object(ie.jsxs)("select",{className:"filter text-center",onChange:function(e){return t(e.target.value)},children:[Object(ie.jsx)("option",{className:"text-center",label:"CHOOSE COUNTY",children:"CHOOSE COUNTY"}),he.map((function(e){return Object(ie.jsx)("option",{className:"foptions",value:e,children:e},e)}))]})})},Oe=function(){var e=Object(n.useState)("All"),t=Object(je.a)(e,2),a=t[0],c=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return e.list}));Object(n.useEffect)((function(){r(g())}),[]);return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(pe,{filter:a,setFilter:c}),function(){if(s.loading)return Object(ie.jsx)("h1",{className:"nav-link bg-light text-center text-dark mt-5",children:"Loading"});if(s.data&&s.data.length>0){var e=[];return e="All"===a||"COUNTIES"===a?s.data:s.data.filter((function(e){return e.county===a})),Object(ie.jsx)(re.a,{children:Object(ie.jsx)(ce.a,{variant:"dark",children:e.map((function(t,a){return Object(ie.jsxs)(ce.a.Item,{children:[Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:t.photo1,alt:t.name}),Object(ie.jsxs)(ce.a.Caption,{children:[Object(ie.jsx)(te.b,{to:{pathname:"/beach/".concat(t.id),state:{beachid:"".concat(t.id)}},children:Object(ie.jsx)("h2",{children:t.name})}),Object(ie.jsx)("p",{className:"fs-5",children:t.description}),Object(ie.jsxs)("p",{className:"fs-4",children:[a+1,"/"," ",e.length]})]})]},t.id)}))})})}return""!==s.errorMSG?Object(ie.jsx)("h1",{className:"nav-link bg-light text-center text-dark mt-5",children:s.errorMSG}):Object(ie.jsx)("p",{})}()]})},me=(a(111),function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("h1",{className:"text-center my-3",children:[Object(ie.jsx)(be.a,{className:"pb-1 pe-1"}),"Cal Beach"]}),Object(ie.jsx)(Oe,{}),Object(ie.jsx)("div",{className:"d-flex justify-content-center",children:Object(ie.jsxs)("p",{className:"down",children:["Made by",Object(ie.jsx)("a",{className:"down-link mx-1",href:"https://github.com/1v4n4",children:"1v4n4"}),"\xa9 2021"]})})]})}),fe=function(){var e=Object(n.useState)(""),t=Object(je.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(je.a)(r,2),o=s[0],l=s[1],u=Object(i.b)();return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{id:"forAlert",className:"text-center text-danger fs-5 mt-3"}),Object(ie.jsxs)("form",{className:"d-flex flex-column mt-5",children:[Object(ie.jsx)("input",{className:"mx-auto my-3 ps-2",type:"email",value:a,name:"log-in-mail",placeholder:"Enter email",onChange:function(e){return c(e.target.value)}}),Object(ie.jsx)("input",{className:"mx-auto mb-3 ps-2",type:"password",value:o,name:"log-in-mail",placeholder:"Enter password",onChange:function(e){return l(e.target.value)}}),Object(ie.jsx)("br",{}),Object(ie.jsx)("button",{type:"submit",className:"mx-auto btn-secondary sub-btn",onClick:function(e){u(function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var c,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:L}),c={user:{email:e,password:t}},a.next=6,O.a.post("https://calbeach.herokuapp.com/sessions",c,{withCredentials:!1});case 6:401===(r=a.sent).data.status?G("Wrong username of password. Please try again"):(w(r.data.user),n({type:A,payload:r.data})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:M});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(a,o)),E()&&setTimeout((function(){var e=E().id;u(Q(e)),u(g())}),1e3),e.preventDefault()},children:"Log in "})]})]})},xe=function(){var e=Object(n.useState)(""),t=Object(je.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(je.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(""),d=Object(je.a)(u,2),b=d[0],p=d[1],m=Object(n.useState)(""),f=Object(je.a)(m,2),x=f[0],g=f[1],v=Object(i.b)();return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{id:"forAlert",className:"text-center text-danger fs-5 mt-3"}),Object(ie.jsx)("div",{}),Object(ie.jsxs)("form",{className:"d-flex flex-column mt-5",children:[Object(ie.jsx)("input",{className:"mx-auto mb-3 ps-2",type:"text",value:a,name:"sign-up-name",placeholder:"Enter name",onChange:function(e){return c(e.target.value)}}),Object(ie.jsx)("input",{className:"mx-auto mb-3 ps-2",type:"email",value:o,name:"sign-up-mail",placeholder:"Enter email",onChange:function(e){return l(e.target.value)}}),Object(ie.jsx)("input",{className:"mx-auto mb-3 ps-2",type:"password",value:b,name:"sign-up-mail",placeholder:"Enter password",onChange:function(e){return p(e.target.value)}}),Object(ie.jsx)("input",{className:"mx-auto mb-3 ps-2",type:"password",value:x,name:"sign-up-mail",placeholder:"Confirm password",onChange:function(e){return g(e.target.value)}}),Object(ie.jsx)("button",{type:"button",className:"mx-auto btn-secondary sub-btn",onClick:function(e){""===a||""===o||""===b||""===x?G("All data must be filled in. Please try again"):b!==x?G("Passwords do not match. Please try again"):(v(function(e,t,a,n){return function(){var c=Object(h.a)(j.a.mark((function c(r){var s,i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:F}),s={user:{name:e,email:t,password:a,passwordConfirmation:n}},c.next=6,O.a.post("https://calbeach.herokuapp.com/registrations",s);case 6:i=c.sent,w(i.data.user),r({type:U,payload:i.data}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),r({type:T});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(a,o,b,x)),e.preventDefault())},children:"Log in"})]})]})},ge=a(119),ve=a(120),Se=a(118),Ne=function(){var e=E();return Object(ie.jsxs)("h2",{className:"nav-link bg-light text-center loged",children:["Loged in as:"," ",e.name]})},ye=(a(112),function(){var e=Object(i.b)(),t=E()||{},a=t.id;Object(n.useEffect)((function(){t.id&&(e(Y(t)),e(Q(a)))}),[]);var c=Object(i.c)((function(e){return e.user})),r=c.data.id,s=c.logged;return Object(ie.jsx)(ge.a,{bg:"light",expand:"lg",children:Object(ie.jsxs)(re.a,{children:[Object(ie.jsx)(ge.a.Brand,{to:"#home",children:Object(ie.jsx)(te.b,{className:"text-dark fs-3",to:"/beach",children:"Home"})}),Object(ie.jsx)(ge.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(ie.jsx)(ge.a.Collapse,{id:"basic-navbar-nav",children:Object(ie.jsxs)(ve.a,{className:"me-auto",children:[!s&&Object(ie.jsx)(te.b,{className:"nav-link text-center bg-light log",to:"/login",children:"Log In"}),!s&&Object(ie.jsx)(te.b,{className:"nav-link text-center bg-light log",to:"/signup",children:"Sign Up"}),s&&Object(ie.jsx)(Ne,{id:a}),s&&Object(ie.jsx)(Se.a,{className:"nav-link bg-light log",onClick:function(){w(null),e((function(e){w(null),e({type:_})}))},children:"Log Out"}),s&&Object(ie.jsx)(te.b,{className:"nav-link text-center bg-light log",id:"favs",to:{pathname:"/favorites",state:{userid:"".concat(r)}},children:"Favorites"})]})})]})})}),ke=function(){var e=Object(ae.f)().state.id,t=(parseInt(e),Object(i.c)((function(e){return e.list})).data),a=Object(i.c)((function(e){return e.favs})).data.map((function(e){return e.beach_id})),n=t.filter((function(e){return a.includes(e.id)}));return Object(ie.jsxs)("div",{className:"favorites-div",children:[Object(ie.jsxs)("h1",{className:"text-center my-3",children:[Object(ie.jsx)(be.a,{className:"pb-1 pe-1"}),"Your favorite places"]}),Object(ie.jsx)("div",{className:"ing-btn-div",children:Object(ie.jsx)(ce.a,{variant:"dark",children:n.map((function(e,t){return Object(ie.jsxs)(ce.a.Item,{children:[Object(ie.jsx)("img",{className:"d-block w-100 carusel-photo",src:e.photo1,alt:e.name}),Object(ie.jsxs)(ce.a.Caption,{children:[Object(ie.jsx)(te.b,{to:{pathname:"/beach/".concat(e.id),state:{beachid:"".concat(e.id)}},children:Object(ie.jsx)("h2",{children:e.name})}),Object(ie.jsx)("p",{className:"fs-5",children:e.description}),Object(ie.jsxs)("p",{className:"fs-4",children:[t+1,"/"," ",n.length]})]})]},e.id)}))})})]})},Ce=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){!function(){var t=E()||{};if(t.id){e(Y(t));var a=t.id;e(Q(a))}}()}),[]),Object(ie.jsxs)(te.a,{children:[Object(ie.jsx)(ye,{}),Object(ie.jsxs)(ae.c,{children:[Object(ie.jsx)(ae.a,{exact:!0,path:"/beach",component:me}),Object(ie.jsx)(ae.a,{path:"/beach/:beach",component:de}),Object(ie.jsx)(ae.a,{path:"/login",component:fe}),Object(ie.jsx)(ae.a,{path:"/signup",component:xe}),Object(ie.jsx)(ae.a,{path:"/favorites",component:ke})]})]})},Ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,121)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(ie.jsx)(c.a.StrictMode,{children:Object(ie.jsx)(i.a,{store:ee,children:Object(ie.jsx)(Ce,{})})}),document.getElementById("root")),Ie()}},[[115,1,2]]]);
//# sourceMappingURL=main.febe3183.chunk.js.map